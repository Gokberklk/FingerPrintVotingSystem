{% extends "layout.html" %}

{% block content %}
<br>
 <div class='box-form' style="margin-left: 600px;margin-top: 100px">
     <div class='box-login-tab'></div>
     <div class='box-login-title'>
         <div class='i i-login'></div><h2>LOGIN</h2>
    </div>
     <div class ='box-login' >
      <div class='fieldset-body' id='login_form'>
        <p class='field'>
            <form action="{{ url_for('voting_vote_page')}}" method="post" enctype="multipart/form-data">
                <label style="margin-left: 10px" for='voter_fingerprint'>SCAN FINGERPRINT</label>
<!--                changed the line below-->
                <label style="margin-left: 10px" for="voter_fingerprint">Choose a fingerprint to upload:</label>
                <input style="margin-left: 10px" type="file" id="voter_fingerprint" name="voter_fingerprint" accept="image/png, image/jpg, image/tif, image/BMP" />


                <img src="data:image/png;base64,{{ voter_fingerprint }}" />

                <input type='submit' id='do_login' value='CHECK FINGERPRINT' title='Get Started' />
            </form>
        </p>
      </div>
    </div>

 </div>
<script src="{{url_for('static',filename='simple-web-serial.min.js')}}"></script>
<script>
console.log('ANANI SİKERİM');
console.log('ANANI SİKERİM');
//
    //import { setupSerialConnection } from 'simple-web-serial';

// Set up the serial connection
const connection = SimpleWebSerial.setupSerialConnection({ requestAccessOnPageLoad: true });

// React to incoming events
connection.on('event-from-arduino', function(data) {
    console.log('Received event "event-from-arduino" with parameter ' + data)
});

// Send named events to the Arduino with a number, string, array or json object
connection.send('event-to-arduino', "Hello there, Arduino");
</script>
{% endblock %}