{% extends "layout.html" %}

{% block content %}
<br>
<body style="background: #303030">
<div class='box-form' style="margin-left: 600px; margin-top: 100px">
    <div class='box-login-tab'></div>
    <div class='box-login-title'>
        <div class='i i-login'></div><h2>LOGIN</h2>
    </div>
    <div class='box-login'>
        <div class='fieldset-body' id='login_form'>
            <p class='field'>
                <form action="{{ url_for('AdminMainPage') }}" method="post" enctype="multipart/form-data" id="uploadForm">
                    <label style="margin-left: 10px" for="admin_fingerprint">Choose a fingerprint to upload:</label>
                    <input style="margin-left: 10px" type="file" id="admin_fingerprint" name="admin_fingerprint" accept="image/png, image/jpg, image/tif, image/BMP" />
                    {% if admin_fingerprint %}
                        <img src="data:image/png;base64,{{ admin_fingerprint }}" />
                    {% endif %}
                    <input type="submit" id="do_login2" value="CHECK FINGERPRINT" title="Get Started" />
                </form>
                <div id="errorMessage" style="display: none; color: red;"></div>
            </p>
        </div>
    </div>
</div>

<script>
    document.getElementById("uploadForm").addEventListener("submit", function(event) {
        var fileInput = document.getElementById("admin_fingerprint");
        if (fileInput.files.length === 0) {
            document.getElementById("errorMessage").innerText = "Please upload a file.";
            document.getElementById("errorMessage").style.display = "block";
            event.preventDefault(); // Prevent form submission
        }
    });
</script>
{% endblock %}
